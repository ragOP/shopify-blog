(function(w,d,s,l,i){w[l]=w[l]||[],w[l].push({"gtm.start":new Date().getTime(),event:"gtm.js"});var f=d.getElementsByTagName(s)[0],j=d.createElement(s),dl=l!="dataLayer"?"&l="+l:"";j.async=!0,j.src="https://www.googletagmanager.com/gtm.js?id="+i+dl,f.parentNode.insertBefore(j,f)})(window,document,"script","dataLayer","GTM-WDLFH2F6"),window.addEventListener("breeze-initiate-checkout",handleBreezeEvents),window.addEventListener("breeze-add-payment-info",handleBreezeEvents),window.addEventListener("breeze-purchase",handleBreezeEvents);function handleBreezeEvents(event){const eventType=event.type,eventData=event.detail?.data||{};try{switch(eventType){case"breeze-initiate-checkout":pushToDataLayer("tracking_academy_begin_checkout",eventData);break;case"breeze-add-payment-info":pushToDataLayer("tracking_academy_add_payment_info",eventData);break;case"breeze-purchase":pushToDataLayer("tracking_academy_purchase",eventData);break;default:console.warn(`Unhandled event type: ${eventType}`)}}catch(error){console.error(`Error in handling event ${eventType}:`,error)}}function pushToDataLayer(eventName,params){window.dataLayer=window.dataLayer||[],window.dataLayer.push({ecommerce:null});const dataLayerEvent={event:eventName,ecommerce:{transaction_id:params.shopOrderId||void 0,value:params.totalPrice||0,tax:params.tax||0,shipping:params.shippingCharge||0,currency:params.currency||"INR",coupon:params.coupon||void 0,items:(params.items||[]).map((item,index)=>({item_id:item.id||void 0,item_name:item.name||void 0,affiliation:item.affiliation||void 0,coupon:item.coupon||void 0,discount:item.discount||0,index,item_brand:item.brand||void 0,item_category:item.category||void 0,item_category2:item.category2||void 0,item_category3:item.category3||void 0,item_category4:item.category4||void 0,item_category5:item.category5||void 0,item_list_id:item.listId||void 0,item_list_name:item.listName||void 0,item_variant:item.variant||void 0,location_id:item.locationId||void 0,price:item.price||0,promotion_id:item.promotionId||void 0,promotion_name:item.promotionName||void 0,quantity:item.quantity||0}))}};window.dataLayer.push(dataLayerEvent),console.log(`Pushed event to dataLayer: ${eventName}`,dataLayerEvent)}
//# sourceMappingURL=/cdn/shop/t/7/assets/breeze-datalayer.js.map?v=178267132487517828341730890135
